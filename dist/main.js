(()=>{const e=document.getElementById("text"),t=document.getElementById("submit"),n=document.getElementById("form"),d=document.getElementById("weather-description"),c=document.getElementById("city"),i=document.getElementById("temperature"),m=document.getElementById("feels-like"),r=document.getElementById("wind"),o=document.getElementById("humidity"),a=document.getElementById("error"),s=document.getElementById("metric"),u=document.getElementById("imperial");async function l(e,t){try{const u=await fetch(`https://api.openweathermap.org/data/2.5/weather?q=${e},&APPID=517bdda0ae62f37b25ca4c3e3a3cc910&units=${t}`,{mode:"cors"}),l=await u.json();a.hidden=!0,n.style.borderColor="black";const E=l.weather[0].description.toUpperCase(),h=l.weather[0].main.toUpperCase();"CLEAR"===h||"CLOUDS"===h?document.documentElement.setAttribute("class","clear"):"DRIZZLE"===h||"RAIN"===h||"SQUALL"===h||"TORNADO"===h?document.documentElement.setAttribute("class","rain"):"THUNDERSTORM"===h?document.documentElement.setAttribute("class","thunder"):"SNOW"===h?document.documentElement.setAttribute("class","snow"):"MIST"!==h&&"FOG"!==h&&"HAZE"!==h&&"SMOKE"!==h&&"DUST"!==h&&"SAND"!==h&&"ASH"!==h||document.documentElement.setAttribute("class","mist");const y=l.name.toUpperCase(),{country:L}=l.sys,p=Math.round(l.main.temp),M=Math.round(l.main.feels_like),I=Math.round(l.wind.speed),{humidity:T}=l.main;d.innerHTML=E,c.innerHTML=`${y}, ${L}`,s.checked?i.innerHTML=`${p}째C`:i.innerHTML=`${p}째F`,s.checked?m.innerHTML=`Feels like: ${M}째C`:m.innerHTML=`Feels like: ${M}째F`,s.checked?r.innerHTML=`Wind: ${I} Km/h`:r.innerHTML=`Wind: ${I} Mph`,o.innerHTML=`Humidity: ${T}%`}catch(e){a.hidden=!1,n.style.borderColor="red"}}function E(t){t.preventDefault(),s.checked?l(e.value,s.id):l(e.value,u.id)}function h(){s.checked?l(c.innerHTML,s.id):l(c.innerHTML,u.id)}t.addEventListener("click",E),n.addEventListener("submit",E),s.addEventListener("click",h),u.addEventListener("click",h),l("Pescantina","metric")})();