(()=>{const e=document.getElementById("text"),t=document.getElementById("submit"),n=document.getElementById("form"),d=document.getElementById("weather-description"),i=document.getElementById("city"),c=document.getElementById("temperature"),m=document.getElementById("feels-like"),r=document.getElementById("wind"),a=document.getElementById("humidity"),o=document.getElementById("error"),u=document.getElementById("metric"),l=document.getElementById("imperial");async function s(e,t){try{const n=await fetch(`http://api.openweathermap.org/data/2.5/weather?q=${e},&APPID=517bdda0ae62f37b25ca4c3e3a3cc910&units=${t}`,{mode:"cors"}),l=await n.json();o.hidden=!0;const s=l.weather[0].description.toUpperCase(),h=l.name.toUpperCase(),{country:y}=l.sys,p=Math.round(l.main.temp),E=Math.round(l.main.feels_like),L=Math.round(l.wind.speed),{humidity:M}=l.main;d.innerHTML=s,i.innerHTML=`${h}, ${y}`,u.checked?c.innerHTML=`${p}째C`:c.innerHTML=`${p}째F`,u.checked?m.innerHTML=`Feels like: ${E}째C`:m.innerHTML=`Feels like: ${E}째F`,u.checked?r.innerHTML=`Wind: ${L} Km/h`:r.innerHTML=`Wind: ${L} Mph`,a.innerHTML=`Humidity: ${M}%`}catch(e){o.hidden=!1}}function h(t){t.preventDefault(),u.checked?s(e.value,u.id):s(e.value,l.id)}function y(){u.checked?s(i.innerHTML,u.id):s(i.innerHTML,l.id)}t.addEventListener("click",h),n.addEventListener("submit",h),u.addEventListener("click",y),l.addEventListener("click",y),s("Pescantina","metric")})();